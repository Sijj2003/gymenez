<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutinas de Entrenamiento - GYMENEZ</title>
    <link rel="icon" type="image/png" href="mini_logo.png">
    <link rel="shortcut icon" type="image/png" href="mini_logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Tema de Fondo Minimalista: Base Oscura (ID√âNTICO A index.html) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d1a;
            /* Usamos el mismo fondo del Dashboard (PROFILE_FONDO) */
            background-image: url('PROFILE_FONDO.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: #e5e7eb; 
            transition: background-image 1s ease-in-out; 
        }
        
        /* Estilo espec√≠fico para el efecto Glassmorphism en las tarjetas (ID√âNTICO A index.html) */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.6);
        }

        /* Estilos para notificaciones (ID√âNTICO A index.html) */
        #message-box {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            pointer-events: none;
        }
        .message-success { background-color: #10b981; color: white; } 
        .message-error { background-color: #ef4444; color: white; } 

        /* Estilo para el bot√≥n de regreso */
        .back-button {
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        .back-button:hover {
            box-shadow: 0 0 10px rgba(102, 163, 255, 0.8);
        }
    </style>
</head>
<body class="min-h-screen">

    <div id="message-box"></div>
    
    <section id="routines-screen" class="min-h-screen p-4 sm:p-8 pt-20">
        
        <a href="index.html" class="back-button absolute top-4 left-4 sm:top-8 sm:left-8 flex items-center text-white bg-[#3a69a8] hover:bg-[#66a3ff] rounded-full p-2 transition duration-200 shadow-lg">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            <span class="ml-2 pr-2 hidden sm:inline font-semibold">Dashboard</span>
        </a>

        <header class="mb-12 text-center">
            <h1 class="text-4xl font-extrabold text-[#66a3ff] tracking-wider">üèãÔ∏è Mis Rutinas de Entrenamiento</h1>
            <p class="text-lg text-gray-400 mt-2">Consulta y gestiona tus planes de entrenamiento personalizados.</p>
        </header>

        <div class="max-w-4xl mx-auto">
            
            <div id="loading-spinner" class="text-center p-12 glass-card rounded-xl">
                <img src="LOADING.png" alt="Cargando" class="mx-auto w-16 h-16 animate-spin-slow">
                <p class="mt-4 text-xl font-semibold text-gray-300">Cargando rutinas...</p>
            </div>

            <div id="routines-content" class="hidden">
                
                <div class="glass-card p-6 mb-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        A√±adir Nueva Rutina
                    </h2>
                    <p class="text-gray-400">Pulsa el bot√≥n para comenzar la creaci√≥n de un nuevo plan.</p>
                    <button class="mt-4 px-4 py-2 bg-[#3a69a8] hover:bg-[#66a3ff] text-white font-semibold rounded-lg transition duration-200 shadow-md">
                        Crear Rutina Personalizada
                    </button>
                </div>

                <div class="glass-card p-6 mb-6 rounded-xl shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-xl font-bold text-[#66a3ff]">Rutina Semanal de Volumen</h3>
                        <span class="px-3 py-1 bg-green-700/50 text-green-200 text-xs font-semibold rounded-full">Activa</span>
                    </div>
                    <p class="text-gray-400 mb-4">Enfocada en hipertrofia y ganancia muscular. Dividida en 4 d√≠as (Superior/Inferior).</p>
                    <div class="flex justify-between text-sm text-gray-400 border-t border-white/10 pt-3">
                        <span>D√≠as: Lunes, Martes, Jueves, Viernes</span>
                        <span class="font-semibold text-white">Nivel: Intermedio</span>
                    </div>
                    <div class="mt-4 flex space-x-3">
                        <button class="px-4 py-1 bg-sky-700/50 hover:bg-sky-600 text-white text-sm font-semibold rounded transition duration-200">Ver Detalles</button>
                        <button class="px-4 py-1 bg-red-700/50 hover:bg-red-600 text-white text-sm font-semibold rounded transition duration-200">Eliminar</button>
                    </div>
                </div>

                <div class="glass-card p-6 mb-6 rounded-xl shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-xl font-bold text-[#66a3ff]">Mantenimiento Funcional</h3>
                        <span class="px-3 py-1 bg-yellow-700/50 text-yellow-200 text-xs font-semibold rounded-full">Inactiva</span>
                    </div>
                    <p class="text-gray-400 mb-4">Rutina de cuerpo completo (full body) de bajo impacto. Ideal para viajes.</p>
                    <div class="flex justify-between text-sm text-gray-400 border-t border-white/10 pt-3">
                        <span>D√≠as: Mi√©rcoles, S√°bados</span>
                        <span class="font-semibold text-white">Nivel: B√°sico</span>
                    </div>
                    <div class="mt-4 flex space-x-3">
                        <button class="px-4 py-1 bg-sky-700/50 hover:bg-sky-600 text-white text-sm font-semibold rounded transition duration-200">Ver Detalles</button>
                        <button class="px-4 py-1 bg-red-700/50 hover:bg-red-600 text-white text-sm font-semibold rounded transition duration-200">Eliminar</button>
                    </div>
                </div>

            </div>

        </div>

    </section>

    <script>
        // --- Variables y Utilidades Globales ---
        const messagebox = document.getElementById('message-box');

        // Funci√≥n para mostrar mensajes de estado (√©xito/error)
        function showMessage(message, type = 'success') {
            messagebox.textContent = message;
            messagebox.className = ''; 
            messagebox.classList.add('transition-none');
            messagebox.classList.add('message-' + type);
            messagebox.style.opacity = '1';
            messagebox.style.transform = 'translateX(-50%) translateY(0)';
            
            setTimeout(() => {
                messagebox.style.style = '';
                messagebox.style.opacity = '0';
                messagebox.style.transform = 'translateX(-50%) translateY(-20px)';
            }, 3000);
        }

        // --- L√≥gica de Carga de Rutinas ---
        async function loadRoutinesData() {
            const loadingSpinner = document.getElementById('loading-spinner');
            const routinesContent = document.getElementById('routines-content');
            
            try {
                // 1. Comprobar Sesi√≥n (usando localStorage como en index.html)
                const storedSession = localStorage.getItem('userSession');
                if (!storedSession) {
                    // Si no hay sesi√≥n, redirigir al login
                    showMessage("Sesi√≥n no encontrada. Redirigiendo al inicio...", 'error');
                    setTimeout(() => window.location.href = 'index.html', 1500); 
                    return;
                }
                
                // Simulaci√≥n de Llamada a la API (API_BASE_URL deber√≠a ser definido aqu√≠ para una llamada real)
                // Usaremos una espera simulada para ver el efecto de carga.
                
                loadingSpinner.innerHTML = '<img src="LOADING.png" alt="Cargando" class="mx-auto w-16 h-16 animate-spin-slow"><p class="mt-4 text-xl font-semibold text-gray-300">Cargando rutinas...</p>';

                // 2. Espera simulada
                await new Promise(resolve => setTimeout(resolve, 1500)); 

                // 3. Mostrar Contenido
                loadingSpinner.classList.add('hidden');
                routinesContent.classList.remove('hidden');
                showMessage('Rutinas cargadas con √©xito.', 'success');
                
            } catch (error) {
                loadingSpinner.textContent = '‚ùå Error al cargar rutinas: ' + error.message;
                showMessage('Error al cargar datos de rutinas.', 'error');
                console.error("Error en loadRoutinesData:", error);
            }
        }


        // --- L√≥gica de Inicializaci√≥n ---
        window.onload = function() {
            loadRoutinesData();
        };
    </script>
</body>
</html>
