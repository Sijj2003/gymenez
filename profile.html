<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Usuario - GYMENEZ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Tema de Fondo Minimalista: Base Oscura (DEFAULT/LOGIN) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d1a;
            /* Usamos el fondo de perfil directamente */
            background-image: url('PROFILE_FONDO.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: #e5e7eb; 
        }
        
        /* Estilo espec铆fico para el efecto Glassmorphism en las tarjetas */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Estilo para las tablas de informaci贸n */
        .profile-table {
            width: 100%;
            border-collapse: collapse;
        }
        .profile-table th, .profile-table td {
            padding: 0.75rem 0;
            text-align: left;
        }
        .profile-table th {
            color: #9ca3af; /* Gris sutil */
            font-weight: 500;
            width: 50%;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .profile-table td {
            color: #ffffff;
            font-weight: 600;
            text-align: right;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        /* Color de valor para Mediciones */
        .measurement-value {
            color: #fcd34d; /* Amarillo/mbar */
            font-weight: 700;
        }

        /* === ESTILO: Sombra/Borde para el texto del Header (Gris) === */
        .text-border-gray {
            text-shadow: 0 0 3px #4b5563; 
        }

        /* Estilos para el mensaje de estado (copiados del funcional v1.html) */
        #message-box {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            pointer-events: none;
        }
        .message-success { background-color: #10b981; color: white; } 
        .message-error { background-color: #ef4444; color: white; } 

    </style>
    </head>
<body class="min-h-screen p-4 md:p-8">

    <div id="message-box"></div>

    <div id="profile-screen" class="min-h-screen w-full">
        <header class="flex justify-between items-center py-4 px-2 mb-8 border-b border-sky-700/50">
            <h1 class="text-3xl font-extrabold uppercase tracking-wider text-border-gray">
                <span class="text-amber-400">GYM</span><span class="text-white">ENEZ</span>
            </h1>
            
            <a href="funcional v1.html" 
               class="px-4 py-2 text-sm font-semibold rounded-full bg-sky-600 text-white hover:bg-sky-500 transition duration-300">
                &larr; Dashboard
            </a>
        </header>

        <h2 class="text-3xl font-extrabold text-white mb-6">Mi Perfil</h2>

        <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
            
            <div class="glass-card p-6 rounded-2xl lg:col-span-1">
                <h3 class="text-xl font-bold mb-4 text-sky-300 flex items-center">
                    <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    PERFIL
                </h3>
                <table id="profile-table" class="profile-table">
                    </table>
            </div>

            <div class="glass-card p-6 rounded-2xl lg:col-span-1">
                <h3 class="text-xl font-bold mb-4 text-sky-300 flex items-center">
                    <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                    MEDICIONES GENERALES
                </h3>
                <table id="general-measurements-table" class="profile-table">
                    </table>
            </div>

            <div class="glass-card p-6 rounded-2xl lg:col-span-3">
                <h3 class="text-xl font-bold mb-4 text-sky-300 flex items-center">
                    <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>
                    MEDICIONES CORPORALES (cm)
                </h3>
                <table id="body-measurements-table" class="profile-table">
                    </table>
            </div>
            
        </div>
    </div>


    <script>
        //  URL BASE DE TU API. SIN LA BARRA FINAL (/)
        const API_BASE_URL = 'https://sijj2003.pythonanywhere.com'; 
        const messagebox = document.getElementById('message-box');

        // Funci贸n para mostrar mensajes de estado (copiada de funcional v1.html)
        function showMessage(message, type = 'success') {
            messagebox.textContent = message;
            messagebox.className = ''; 
            messagebox.classList.add('transition-none');
            messagebox.classList.add('message-' + type);
            messagebox.style.opacity = '1';
            messagebox.style.transform = 'translateX(-50%) translateY(0)';
            
            setTimeout(() => {
                messagebox.style.style = '';
                messagebox.style.opacity = '0';
                messagebox.style.transform = 'translateX(-50%) translateY(-20px)';
            }, 3000);
        }

        // --- SIMULACIN DE DATOS DEL PERFIL ---
        const DUMMY_PROFILE_DATA = {
            // Data de la tabla PERFIL
            email: "juan.perez@gimenez.com",
            name: "Juan",
            lastName: "P茅rez",
            dateOfBirth: "15/05/1990", // DD/MM/YYYY
            activeSince: "10/01/2024", // DD/MM/YYYY
            gender: "Masculino",

            // Data de la tabla MEDICIONES GENERALES
            heightMeters: 1.75, // Metros
            weightKg: 80.5,     // Kilogramos
            bodyFatIndex: 18.2, // ndice de Grasa (%)

            // Data de la tabla MEDICIONES CORPORALES (cm)
            measurementsCm: {
                brazoIzquierdo: 38.5,
                brazoDerecho: 39.0,
                antebrazoIzquierdo: 30.1,
                antebrazoDerecho: 30.5,
                torax: 110,
                cintura: 85,
                cuadricepsIzquierdo: 62.0,
                cuadricepsDerecho: 62.5,
                gemeloIzquierdo: 40.2,
                gemeloDerecho: 40.5,
            }
        };


        /**
         * Renderiza la informaci贸n del perfil en las tablas.
         * En una aplicaci贸n real, esta funci贸n recibir铆a los datos de la API.
         */
        function renderProfile(data) {
            // --- 1. TABLA PERFIL ---
            const profileTable = document.getElementById('profile-table');
            profileTable.innerHTML = `
                <tr><th>Email</th><td>${data.email}</td></tr>
                <tr><th>Nombre</th><td>${data.name}</td></tr>
                <tr><th>Apellido</th><td>${data.lastName}</td></tr>
                <tr><th>Fecha de Nacimiento</th><td>${data.dateOfBirth}</td></tr>
                <tr><th>Activo Desde</th><td>${data.activeSince}</td></tr>
                <tr><th>Sexo</th><td>${data.gender}</td></tr>
            `;

            // --- 2. TABLA MEDICIONES GENERALES ---
            const generalTable = document.getElementById('general-measurements-table');
            generalTable.innerHTML = `
                <tr><th>Estatura</th><td><span class="measurement-value">${data.heightMeters}</span> m</td></tr>
                <tr><th>Peso</th><td><span class="measurement-value">${data.weightKg}</span> kg</td></tr>
                <tr><th>ndice de Grasa</th><td><span class="measurement-value">${data.bodyFatIndex}</span> %</td></tr>
            `;

            // --- 3. TABLA MEDICIONES CORPORALES ---
            const bodyTable = document.getElementById('body-measurements-table');
            // Usamos un loop para asegurar que todos los campos se incluyan y sea m谩s f谩cil de mantener
            let bodyHtml = '';
            const labels = {
                brazoIzquierdo: "Brazo Izquierdo",
                brazoDerecho: "Brazo Derecho",
                antebrazoIzquierdo: "Antebrazo Izquierdo",
                antebrazoDerecho: "Antebrazo Derecho",
                torax: "T贸rax",
                cintura: "Cintura",
                cuadricepsIzquierdo: "Cu谩driceps Izquierdo",
                cuadricepsDerecho: "Cu谩driceps Derecho",
                gemeloIzquierdo: "Gemelo Izquierdo",
                gemeloDerecho: "Gemelo Derecho",
            };

            for (const key in data.measurementsCm) {
                if (data.measurementsCm.hasOwnProperty(key)) {
                    const label = labels[key] || key;
                    bodyHtml += `
                        <tr>
                            <th>${label}</th>
                            <td><span class="measurement-value">${data.measurementsCm[key]}</span> cm</td>
                        </tr>
                    `;
                }
            }
            bodyTable.innerHTML = bodyHtml;
        }

        // --- L贸gica de Inicializaci贸n ---
        window.onload = function() {
            // En una aplicaci贸n real, se har铆a una llamada a la API para obtener los datos del perfil
            // fetch(`${API_BASE_URL}/api/profile/${userId}`).then(...)
            
            // Usamos datos simulados (DUMMY_PROFILE_DATA) para poblar la vista
            renderProfile(DUMMY_PROFILE_DATA);
            showMessage('Datos de perfil cargados (simulados).', 'success');
        };
    </script>
</body>
</html>